
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
     
    <html xmlns="http://www.w3.org/1999/xhtml">
    
<head>  

            <link rel="canonical" href="http://blog.csdn.net/kkkloveyou/article/details/52578058"/> 
 <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />

    <title>Redis 数据类型及抽象 - kkkloveyou
        - 博客频道 - CSDN.NET</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="Redis 不仅仅是简单的 key value 存储，实际上它还是一个 data strutures server（据数结构服务器)，用以支持不同的数值类型。在 key value 中，value 不仅仅局限于 string 类型，它可以是更复杂的数据结构：" />
   
    <script src="http://static.blog.csdn.net/scripts/blog_static_head.min.js" type="text/javascript"></script>

    
        <!--new top-->
               <link rel="stylesheet" href="http://c.csdnimg.cn/public/common/toolbar/css/index.css">        <!--new top-->
    
      <!-- ad begin -->
         <script language="javascript" type="text/javascript" src="http://ads.csdn.net/js/tracking.js"></script>
    <!-- ad end-->

    <link rel="Stylesheet" type="text/css" href="http://static.blog.csdn.net/skin/dark1/css/style.css?v=1.1" />

    

    <link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="/kkkloveyou/rss/list" />
    <link rel="shortcut icon" href="http://c.csdnimg.cn/public/favicon.ico" />
    <link type="text/css" rel="stylesheet" href="http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/default.css" />
 

     
    <link rel="stylesheet" href="http://static.blog.csdn.net/css/csdn_blog_detail.min.css" />

</head>


<body>
       



    <!-- 广告位开始 -->
        
    <!-- 广告位结束 -->

    
   
      <!--new top-->
    <script id="toolbar-tpl-scriptId" fixed="true" prod="blog" skin="black" src="http://c.csdnimg.cn/public/common/toolbar/js/html.js" type="text/javascript"></script>
     <!--new top-->
    <div id="container">
        <div id="header">
    <div class="header">
        <div id="blog_title">
            <h2>
                <a href="http://blog.csdn.net/kkkloveyou">kkkloveyou</a></h2>
            <h3>关注Web编程的那点事</h3>
            <div class="clear">
            </div>
        </div>
        <div class="clear">
        </div>
        
     
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg">
    </div>
    <div class="navigator">
        <ul>           
                <li id="btnContents"><a href="http://blog.csdn.net/kkkloveyou?viewmode=contents"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_mulu'])">
                    <img src="http://static.blog.csdn.net/images/ico_list.gif">目录视图</span></a></li>
                <li id="btnView"><a href="http://blog.csdn.net/kkkloveyou?viewmode=list"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_zhaiyao'])">
                    <img src="http://static.blog.csdn.net/images/ico_summary.gif">摘要视图</span></a></li>
                <li id="btnRss"><a href="http://blog.csdn.net/kkkloveyou/rss/list"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_RSS'])">
                    <img src="http://static.blog.csdn.net/images/ico_rss.gif">订阅</span></a></li>                
            

            </ul>
    </div>
</div>
<script type="text/javascript">
    var username = "kkkloveyou";
    var _blogger = username;
    var blog_address = "http://blog.csdn.net/kkkloveyou";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";  
</script>

        <div id="body">
            <div id="main">
                <div class="main">
                        <div class="ad_class">
<div class="notice tracking-ad" data-mod='popu_3' > 


<a href="http://blog.csdn.net/blogdevteam/article/details/71710010">
<font color=blue><strong>【活动】2017 CSDN博客专栏评选</strong></font></a>

&nbsp;&nbsp;&nbsp;&nbsp

<a href=" http://blog.csdn.net/turingbooks/article/details/72416875">
<font color=red><strong>【5月书讯】流畅的Python，终于等到你！</strong></font></a>
&nbsp;&nbsp;&nbsp;&nbsp

<a href="http://blog.csdn.net/blogdevteam/article/details/72638703">
<font color=blue><strong>CSDN日报20170523 ——《技术合伙人，千万别做！》
</strong>
&nbsp;&nbsp;&nbsp;&nbsp


</div>                        </div>
                        



  






<script   type="text/javascript" src="http://static.blog.csdn.net/scripts/category.js"></script>

  <script type="text/ecmascript">
      window.quickReplyflag = true;
           
            var isBole = false;
            
      
      var fasrc="http://my.csdn.net/my/favorite/miniadd?t=Redis+%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e5%8f%8a%e6%8a%bd%e8%b1%a1&u=http://blog.csdn.net/kkkloveyou/article/details/52578058"

    </script>
<div id="article_details" class="details">
    <div class="article_title">   
         <span class="ico ico_type_Original"></span>


    <h1>
        <span class="link_title"><a href="/kkkloveyou/article/details/52578058">
        Redis 数据类型及抽象            
        </a></span>
    </h1>
</div>

   

        <div class="article_manage clearfix">
        <div class="article_l">
            <span class="link_categories">
            标签：
              <a href='http://www.csdn.net/tag/redis' target=_blank onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">redis</a><a href='http://www.csdn.net/tag/%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84' target=_blank onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">数据结构</a>
            </span>
        </div>
        <div class="article_r">
            <span class="link_postdate">2016-09-18 21:28</span>
            <span class="link_view" title="阅读次数">1345人阅读</span>
            <span class="link_comments" title="评论次数"> <a href="#comments" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_pinglun'])">评论</a>(0)</span>
            <span class="link_collect tracking-ad" data-mod="popu_171"> <a href="javascript:void(0);" onclick="javascript:collectArticle('Redis+%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e5%8f%8a%e6%8a%bd%e8%b1%a1','52578058');return false;" title="收藏">收藏</a></span>
             <span class="link_report"> <a href="#report" onclick="javascript:report(52578058,2);return false;" title="举报">举报</a></span>

        </div>
    </div>
    <div class="embody"  style="display:none" id="embody">
        <span class="embody_t">本文章已收录于：</span>
        <div class="embody_c" id="lib" value="{&quot;err&quot;:0,&quot;msg&quot;:&quot;ok&quot;,&quot;data&quot;:[]}"></div>
    </div>
    <style type="text/css">        
            .embody{
                padding:10px 10px 10px;
                margin:0 -20px;
                border-bottom:solid 1px #ededed;                
            }
            .embody_b{
                margin:0 ;
                padding:10px 0;
            }
            .embody .embody_t,.embody .embody_c{
                display: inline-block;
                margin-right:10px;
            }
            .embody_t{
                font-size: 12px;
                color:#999;
            }
            .embody_c{
                font-size: 12px;
            }
            .embody_c img,.embody_c em{
                display: inline-block;
                vertical-align: middle;               
            }
             .embody_c img{               
                width:30px;
                height:30px;
            }
            .embody_c em{
                margin: 0 20px 0 10px;
                color:#333;
                font-style: normal;
            }
    </style>
    <script  type="text/javascript">
        $(function () {
            try
            {
                var lib = eval("("+$("#lib").attr("value")+")");
                var html = "";
                if (lib.err == 0) {
                    $.each(lib.data, function (i) {
                        var obj = lib.data[i];
                        //html += '<img src="' + obj.logo + '"/>' + obj.name + "&nbsp;&nbsp;";
                        html += ' <a href="' + obj.url + '" target="_blank">';
                        html += ' <img src="' + obj.logo + '">';
                        html += ' <em><b>' + obj.name + '</b></em>';
                        html += ' </a>';
                    });
                    if (html != "") {
                        setTimeout(function () {
                            $("#lib").html(html);                      
                            $("#embody").show();
                        }, 100);
                    }
                }      
            } catch (err)
            { }
            
        });
    </script>
      <div class="category clearfix">
        <div class="category_l">
           <img src="http://static.blog.csdn.net/images/category_icon.jpg">
            <span>分类：</span>
        </div>
        <div class="category_r">
                    <label>
                        <span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_fenlei']);">Redis<em></em></span>                       
                    </label>      
        </div>
    </div>
        <div   class="bog_copyright">         
            <p  class="copyright_p" >版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
        </div>

  

  
  
     


<div id="article_content" class="article_content tracking-ad" data-mod=popu_307  data-dsm = "post" >
        <div class="markdown_views"><p>原文同步至<a href="http://waylau.com/redis-data-type/">http://waylau.com/redis-data-type/</a> <br>
（若打不开，请翻墙，或者使用https访问）</p>

<p>Redis 不仅仅是简单的 key value 存储，实际上它还是一个 data strutures server（据数结构服务器)，用以支持不同的数值类型。在 key value 中，value 不仅仅局限于 string 类型，它可以是更复杂的数据结构：</p>

<ul>
<li>二进制安全的 string；</li>
<li>List：一个链表，链表中的元素按照插入顺序排列；</li>
<li>Set：string 集合，集合中元素是唯一，没有排序</li>
<li>Sorted set： 和 Set 类似，但是每一个 string 元素关联一个浮点数值。这个数值被称为 Score。元素总是通过他们的 Score 进行排序，所以不像 Set，它可以获取一段范围的元素（例如，获取前10个，或者后10个）。</li>
<li>Hash：Hash 就是由关联值的字段构成的 Map。字段和值都是 string。这个与 Ruby 或 Python 的 hash 很类似。</li>
<li>Bit array（或者简单称为 Bitmap）：像位数值一样通过特别的命令处理字符串：你可以设置和清除单独的 bit，统计所有 bit 集合中为1的数量，查找第一个设置或者没有设置的 bit 等等。</li>
<li>HyperLogLogs：这是一个概率统计用的数据结构，可以被用来估计一个集合的基数。 </li>
</ul>

<p>对于所有的例子，我们都使用 redis-cli 工具来演示。这是一个简单但是非常有用的命令行工具，可以用来发送命令给 Redis Server。</p>



<h3 id="1-redis-key">1. Redis key</h3>

<p>Redis key 是二进制安全的。这意味着你可以使用任何二进制序列作为key， 如从一个像”foo”的字符串到一个 JPEG 文件的内容。空字符串也是一个有效的 key。</p>

<p>关于 key 的一些其它规则：</p>

<ul>
<li>不建议使用非常长的 Key。这不仅仅是考虑内存方面问题， 而且在数据集中查找 key 可能需要和多个 key 进行比较。如果当前的任务需要使用一个很大值，将它进行 hash 是一个不错的方案（例如，使用SHA1），尤其是从内存和带宽的角度考虑。</li>
<li>非常短的 key 往往也不是一个好主意。如果你可以将 key 写成“user:1000:followers”，就不要使用“u1000flw”。因为，首先前者更加具有可读性，其次增加的空间相比 key 对象本身和值对象占用的空间是很小的。当然，短 key 显然会消耗更少的内存，你需要找到一个适当的平衡。</li>
<li>努力坚持使用模式。例如像“user:1000”这样的“object-type:id”模式是一个好主意。点和连接线通常被用在多个单词的字段，例如“comment:1234:reply.to”或者“comment:1234:reply-to”。</li>
<li>允许 key 最大的大小是512MB。</li>
</ul>



<h3 id="2-redis-string">2. Redis String</h3>

<p>Redis String 类型是关联到 Redis key 最简单的值类型。它是Memcached 中唯一数据类型，所以对于 Redis 新手来说，使用它也是非常自然的。</p>

<p>因为 Redis key 是 String, 所以当我们使用 String 类型作为 value 时, 其实就是将一个 String 映射到另一个 String。String 数据类型对于大量的用例是非常有用的，如缓存 HTML 片段或者页面。</p>

<p>让我们一起使用 redis-cli 来操作下 String 类型：</p>



<pre class="prettyprint"><code class=" hljs cs">&gt; <span class="hljs-keyword">set</span> mykey somevalue
OK
&gt; <span class="hljs-keyword">get</span> mykey
<span class="hljs-string">"somevalue"</span></code></pre>

<p>使用 SET 和 GET 命令可以设置和获取 String 值。注意 SET 会替换已经存入到 key 中的任何值，即使这个 key 存在的不是 String 值。所以SET 执行一次分配。</p>

<p>值可以是任何类型的 String（包括二进制数据）， 例如你可以存一个jpeg 图片到一个 key 中。但值不能超过512MB大小。</p>

<p>SET 命令有一些有趣的选项，这些选项可以通过额外的参数来设置。例如，</p>

<ul>
<li>NX——只在 key 不存在的情况下执行</li>
<li>XX——只在 key 存在的情况下执行</li>
</ul>

<p>下面是操作示例：</p>



<pre class="prettyprint"><code class=" hljs cs">&gt; <span class="hljs-keyword">set</span> mykey somevalue
OK
&gt; <span class="hljs-keyword">get</span> mykey
<span class="hljs-string">"somevalue"</span></code></pre>

<p>String 是 Redis 的基础值，你可以对它们进行一些有意思的操作。例如，进行原子递增：</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; set counter 100</span>
OK
<span class="hljs-blockquote">&gt; incr counter</span>
(integer) 101
<span class="hljs-blockquote">&gt; incr counter</span>
(integer) 102
<span class="hljs-blockquote">&gt; incrby counter 50</span>
(integer) 152</code></pre>

<p>INCR 命令将 String 值解析为 Integer，然后将它递增1，最后将新值作为返回值。这里也有一些类似的命令，如 INCRBY、DECR 和 DCRBY。在内部它们是相同的命令，并且执行方式的差别非常微小。</p>

<p>INCR 命令是原子操作意味着什么？这表示即使多个客户端对同一个 key 发送 INCR 命令也不会导致 Race Condition（竞争条件）问题。例如， 当 client1 和 client2 同时给值加1时（旧值为10），它们不会同时读到10，最终值一定是12，因为 read-increment-set 起作用了。</p>

<p>操作 String 有很多的命令。例如 GETSET 命令将一个 key 设置为新值，并将旧值作为返回值。例如，你有一个系统。每次你的网站接收到新的访问者，则使用 INCR 命令递增一个 Redis key，这时你就可以使用 GETSET 命令来实现。你可能想每隔一个小时收集一次信息，并且需要不丢失每一次的递增。这样你就可以 GETSET 这个 key，将新值0赋给它，并将旧值读回。</p>

<p>MSET 和 MGET 命令用于在一条命令中设置或者获取多个 key 的值，这对减少网络延时是非常有用的。</p>

<p>下面是操作示例：</p>



<pre class="prettyprint"><code class=" hljs livecodeserver">&gt; mset <span class="hljs-operator">a</span> <span class="hljs-number">10</span> b <span class="hljs-number">20</span> c <span class="hljs-number">30</span>
OK
&gt; mget <span class="hljs-operator">a</span> b c
<span class="hljs-number">1</span>) <span class="hljs-string">"10"</span>
<span class="hljs-number">2</span>) <span class="hljs-string">"20"</span>
<span class="hljs-number">3</span>) <span class="hljs-string">"30"</span></code></pre>

<p>当使用 MGET 时，Redis 返回的是一个值数组。</p>



<h3 id="3-修改和查询-key-空间">3. 修改和查询 key 空间</h3>

<p>还有一些命令没有定义在具体的类型上，但在与 key 空间交互时非常有用。这些命令可以用于任何类型的 key。</p>

<p>例如，EXISTS 命令返回1或者0来标志一个给定的Key是否在数据库中存在。DEL 命令用来删除一个 key 和关联的值，而不管这个值是什么。</p>

<p>下面是操作示例：</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; set mykey hello</span>
OK
<span class="hljs-blockquote">&gt; exists mykey</span>
(integer) 1
<span class="hljs-blockquote">&gt; del mykey</span>
(integer) 1
<span class="hljs-blockquote">&gt; exists mykey</span>
(integer) 0</code></pre>

<p>通过这个例子，你也可以看到 DEL 命令根据 key 是否被删除返回1或者0。</p>

<p>这里有很多与 key 空间相关的命令，但是上面两个命令以及 TYPE 命令是非常关键的命令。TYPE 命令返回指定 key 中存放值的类型。</p>

<p>下面是操作示例：</p>



<pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-subst">&gt;</span> <span class="hljs-built_in">set</span> mykey x
OK
<span class="hljs-subst">&gt;</span> <span class="hljs-keyword">type</span> mykey
<span class="hljs-built_in">string</span>
<span class="hljs-subst">&gt;</span> del mykey
(<span class="hljs-built_in">integer</span>) <span class="hljs-number">1</span>
<span class="hljs-subst">&gt;</span> <span class="hljs-keyword">type</span> mykey
<span class="hljs-literal">none</span></code></pre>



<h3 id="4-redis-失效具有有限生存时间的-key">4. Redis 失效：具有有限生存时间的 key</h3>

<p>Redis 失效是 Redis 的一个特性之一。这个特性可以用在任何一种值类型中。你可以给一个 key 设置一个超时时间，这个超时时间就是有限的生存时间。当这个生存时间过去，这个 key 会自动被销毁。</p>

<p>下面是一些关于 Redis 失效的描述：</p>

<ul>
<li>在设置失效时间时，可以使用秒或者毫秒精度。</li>
<li>失效时间一般总是1ms。</li>
<li>失效信息会被复制，并持久化到磁盘中。当你的 Redis 服务器停止时(这意味着 Redis 将保存 key 的失效时间），这个时间在无形中度过。</li>
</ul>

<p>设置失效时间是轻而易举的：</p>



<pre class="prettyprint"><code class=" hljs vbnet">&gt; <span class="hljs-keyword">set</span> <span class="hljs-keyword">key</span> some-value
OK
&gt; expire <span class="hljs-keyword">key</span> <span class="hljs-number">5</span>
(<span class="hljs-built_in">integer</span>) <span class="hljs-number">1</span>
&gt; <span class="hljs-keyword">get</span> <span class="hljs-keyword">key</span> (immediately)
<span class="hljs-string">"some-value"</span>
&gt; <span class="hljs-keyword">get</span> <span class="hljs-keyword">key</span> (after some time)
(nil)</code></pre>

<p>这个 key 在两次 GET 调用之间消失了，因为第二次调用延时超过了5秒。在上面的例子中，我们使用 EXPIRE 命令来设置超时时间（它也可以用来给一个已经设置超时时间的 key 设置一个不同的值。PERSIST 可以用来删除失效时间，并将 key 永远持久化）。当然我们也可以使用其它的R edis 命令来创建带失效时间的 key。例如，使用 SET 选项：</p>



<pre class="prettyprint"><code class=" hljs vbnet">&gt; <span class="hljs-keyword">set</span> <span class="hljs-keyword">key</span> <span class="hljs-number">100</span> ex <span class="hljs-number">10</span>
OK
&gt; ttl <span class="hljs-keyword">key</span>
(<span class="hljs-built_in">integer</span>) <span class="hljs-number">9</span></code></pre>

<p>上面例子中设置 key 值为 String 100, 并带有10秒的超时时间。之后，使用 TTL 命令检测这个 key 的剩余生存时间。</p>

<p>如果你想知道如何以毫秒级设置和检测超时时间，查看 PEXPIRE 和 PTTL 命令，以及 SET 选项列表，可以参见 <a href="http://redis.io/commands">http://redis.io/commands</a>。</p>



<h3 id="5-redis-list">5. Redis List</h3>

<p>Redis List 是通过 Linked List 实现。这意味着即使成千上万的元素在一个列表中，在列表头和尾增加一个元素的操作是在一个常量时间完成。使用 LPUSH 命令增加一个新元素到一个具有10个元素的列表头的速度和增加一个元素到有千万元素的列表头是一样的。</p>

<p>这样做的负面影响是什么？在使用数组实现的列表中，使用 index 访问一个元素是非常快的（index 访问是常量时间），而在使用 Linked List 实现的 List 中不是那么快的（这个操作需要的工作量和被访问元素的 index 成正比）</p>

<p>Redis List 使用 Linked List 实现原因，因为对于数据库系统，能够快速增加一个元素到一个非常长的列表中是非常关键的。</p>

<p>你过一会儿将会看到，Redis List 的另一个重要优势是可以在常量时间内获取一个固定长度子 List。</p>

<p>如何实现当快速访问一个庞大元素集合的中间值？可以使用另一个数据结构，它称为 Sorted Set。 Sorted Set 将在后面讲到。</p>



<h3 id="6-使用-redis-list-的第一步">6. 使用 Redis List 的第一步</h3>

<p>LPUSH 命令将一个新元素从左边加入到列表中，而 RPUSH 命令将一个新元素从右边加入到列表中。最后，LRANGE 命令获取列表范围内的元素：</p>



<pre class="prettyprint"><code class=" hljs livecodeserver">&gt; rpush mylist A
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; rpush mylist B
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">2</span>
&gt; lpush mylist <span class="hljs-keyword">first</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">3</span>
&gt; lrange mylist <span class="hljs-number">0</span> -<span class="hljs-number">1</span>
<span class="hljs-number">1</span>) <span class="hljs-string">"first"</span>
<span class="hljs-number">2</span>) <span class="hljs-string">"A"</span>
<span class="hljs-number">3</span>) <span class="hljs-string">"B"</span></code></pre>

<p>注意 LRANGE 带有两个 index， 分别是返回范围的开始和结束。这两个index 都可以是负数，告诉 Redis 从后边开始计数：-1表示最后一个元素，-2表示倒数第二个元素，以此类推。</p>

<p>正如你看到的, RPUSH 将元素附加到列表右边，而 LPUSH 将元素附加到左边。</p>

<p>两个命令都是 variadic commands（可变参数的命令）。这意味着你可以在一次调用中将多个元素插入到列表中。</p>

<p>下面是操作示例：</p>



<pre class="prettyprint"><code class=" hljs livecodeserver">&gt; rpush mylist <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-string">"foo bar"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">9</span>
&gt; lrange mylist <span class="hljs-number">0</span> -<span class="hljs-number">1</span>
<span class="hljs-number">1</span>) <span class="hljs-string">"first"</span>
<span class="hljs-number">2</span>) <span class="hljs-string">"A"</span>
<span class="hljs-number">3</span>) <span class="hljs-string">"B"</span>
<span class="hljs-number">4</span>) <span class="hljs-string">"1"</span>
<span class="hljs-number">5</span>) <span class="hljs-string">"2"</span>
<span class="hljs-number">6</span>) <span class="hljs-string">"3"</span>
<span class="hljs-number">7</span>) <span class="hljs-string">"4"</span>
<span class="hljs-number">8</span>) <span class="hljs-string">"5"</span>
<span class="hljs-number">9</span>) <span class="hljs-string">"foo bar"</span></code></pre>

<p>Redis List 的一个重要操作是 pop 元素的能力。pop 元素是指从列表中取出元素，并同时将它从列表中删除的操作。你可以从左边或者右边 pop 元素，这和你从列表的两侧 push 元素是类似的。</p>

<p>下面是操作示例：</p>



<pre class="prettyprint"><code class=" hljs livecodeserver">&gt; rpush mylist <span class="hljs-operator">a</span> b c
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">3</span>
&gt; rpop mylist
<span class="hljs-string">"c"</span>
&gt; rpop mylist
<span class="hljs-string">"b"</span>
&gt; rpop mylist
<span class="hljs-string">"a"</span></code></pre>

<p>我们加入了三个元素，并 pop 了三个元素，所以在这些命令执行完后，这个列表是空的，并且没有更多的元素可以 pop。如果我尝试再 pop 一个元素，下面就是我们获得的结果：</p>



<pre class="prettyprint"><code class=" hljs ruby">&gt; rpop mylist
(<span class="hljs-keyword">nil</span>)</code></pre>

<p>Redis 返回 NULL 值来表示已经没有元素在列表中了。</p>



<h3 id="7-list-常见的用例">7. List 常见的用例</h3>

<p>List 对于某些特定的场景是非常有用的。两个非常典型用例如下：</p>

<ul>
<li>记录用户 post 到社区网络的最新更新。</li>
<li>使用消费者-生产者模式进行进程间通信。生产者推送数据到 List 中，消费者消费这些数据并执行操作。Redis 有专门的 List 命令使这个用例更加可靠和高效。</li>
</ul>

<p>例如，热门的 Ruby 库 <a href="https://github.com/resque/resque">resque</a> 和 <a href="https://github.com/mperham/sidekiq">sidekiq</a> 在底层就是使用 Redis 列表实现后台任务。</p>

<p>热门的 Twitter 社交网络将用户最新 post 的 tweet 放入到 Redis List 中。</p>

<p>为了一步步描述这个常见的用例，设想你的主页展示一个图片共享社交网站上发布的最新图片，并且你想提高访问速度。</p>

<ul>
<li>每次一个用户 post 一张新的图片，我们就使用 LPUSH 将它的 ID 加入到一个 List 中。</li>
<li>当用户访问这个主页时, 我们使用 LRANGE 0 9 来获得最近上传的10个数据。</li>
</ul>



<h3 id="8-capped-list限制列表">8. Capped list（限制列表）</h3>

<p>在很多的用例中，我们仅需要使用 List 保存最近的元素，比如，社交网络的更新，日志，或者其他任何事。</p>

<p>Redis 允许我们使用 List 作为 capped 集合，使用 LTRIM 命令来仅记住最近 N 个元素，并丢失所有旧的数据。</p>

<p>LTRIM 命令和 LRANGE 类似，但它设置这个范围作为新的 List 值，而不是展示指定范围的元素。所有在给定范围之外的元素会被删除。</p>

<p>通过下面的例子，我们可以使它更加容易理解：</p>



<pre class="prettyprint"><code class=" hljs livecodeserver">&gt; rpush mylist <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">5</span>
&gt; ltrim mylist <span class="hljs-number">0</span> <span class="hljs-number">2</span>
OK
&gt; lrange mylist <span class="hljs-number">0</span> -<span class="hljs-number">1</span>
<span class="hljs-number">1</span>) <span class="hljs-string">"1"</span>
<span class="hljs-number">2</span>) <span class="hljs-string">"2"</span>
<span class="hljs-number">3</span>) <span class="hljs-string">"3"</span></code></pre>

<p>上面的 LTRIM 命令告诉 Redis 仅取从 index 0到2的列表元素，其它的会被丢弃。这允许一个非常简单但又很有用的模式:执行一个 List 推送操作 + 一个 List 截断操作，来实现增加一个新元素，并丢弃超过限制的元素。用法如下</p>



<pre class="prettyprint"><code class=" hljs ruleslanguage">LPUSH mylist &lt;some element&gt; 
<span class="hljs-keyword">LTRIM</span> mylist <span class="hljs-number">0</span> <span class="hljs-number">999</span></code></pre>

<p>上面的组合增加一个新元素，并取1000个最新的元素放入这个 List。通过LRANGE 命令，你可以访问最前面的数据，而不需要记住非常旧的数据。</p>

<p>注意：LRANGE 是一个 O(N) 的命令，访问向列表头或者尾的小范围元素是一个常量时间操作。</p>



<h3 id="9-list-上的阻塞操作">9. List 上的阻塞操作</h3>

<p>List 有一个特别的特性, 非常适合用来实现队列，并且它也是内部进程通信系统的一个基本构件：阻塞操作。</p>

<p>设想你想使用一个进程将数据推送到一个列表中，并且使用一个不同的进程在这些数据上做一些工作。这是一个普通的生产者-消费者模式，并且可以通过下面简单的方法来实现。</p>

<ul>
<li>为了推送数据到这个 List 中，生产者调用 LPUSH 命令。</li>
<li>为了从列表中提取/处理数据，消费者调用 RPOP 命令。</li>
</ul>

<p>然而，有时这个列表有可能是空的，没有什么需要处理，所以 RPOP 仅返回NULL。在这种情况下，消费者强制等待一些时间，并使用 RPOP 进行重试。这种方式称为 polling（拉），在这个场景下并不是很合适，因为它有下面几个缺点：</p>

<ul>
<li>迫使 Redis 和客户端处理无用的命令（所有的请求在 List 为空的时候没有实际工作要做,他们仅是返回 NULL)</li>
<li>增加了数据处理的延时，因为在一个工作者接收到 NULL 之后，它等待了一段时间。为了使延时更小，我们可以在调用 RPOP 之间等待更短时间，但负面影响是放大了上面第一问题，因为这意味着产生了更多无用的 Redis  调用。</li>
</ul>

<p>所以 Redis 实现了 BRPOP 和 BLPOP 命令。他们是 RPOP 和 LPOP 的另一个版本，可以在 List 为空的时候进行阻塞，仅当一个新的元素加入到列表中，或者用户指定的超时时间到达时，他们才会返回给调用者。</p>

<p>这是一个我们可以在工作者中调用 BRPOP 的例子：</p>



<pre class="prettyprint"><code class=" hljs bash">&gt; brpop tasks <span class="hljs-number">5</span>
<span class="hljs-number">1</span>) <span class="hljs-string">"tasks"</span>
<span class="hljs-number">2</span>) <span class="hljs-string">"do_something"</span></code></pre>

<p>它的意思是“等待在列表 tasks 中的元素, 但是如果5秒钟过后，还没有元素有效则返回”。</p>

<p>注意你可以使用0作为超时时间表示永久等待元素。并且你也可以指定多个 List 而不仅是一个。这样就可以在同一时间等待多个 List，并且当第一个 List 接收到元素时获得通知。</p>

<p>关于 BRPOP 的一些注意事项:</p>

<ul>
<li>客户端按照顺序被服务：当某个客户端推送一个元素时，第一个阻塞等待 List 的客户端会被最先服务。</li>
<li>BRPOP 的返回值是和 RPOP 不同的：它是两个元素的数组。数组中除了新加入的元素，还有 key 的名称，这是因为 BRPOP 和 BLPOP 能够等待多个队列中的元素。</li>
<li>如果超时时间到达，则返回NULL。</li>
</ul>

<p>关于 List 和阻塞操作，你需要知道更多的事情。我们建议你阅读下面的更多信息。</p>

<ul>
<li>可以使用 RPOPLPUSH 构建安全队列或者循环队列（网址为 <a href="http://redis.io/commands/rpoplpush">http://redis.io/commands/rpoplpush</a>）。</li>
<li>还有一个这个命令的阻塞版本，称为 BRPOPLPUSH（网址为 <a href="http://redis.io/commands/brpoplpush">http://redis.io/commands/brpoplpush</a>）。</li>
</ul>



<h3 id="10-key-的自动创建和删除">10. key 的自动创建和删除</h3>

<p>到现在，在我们的例子中，我们从没有在推送元素之前必须创建空列表，或者当他们不再有元素在里面的时候删除空列表。当 List 为空时，Redis 会负责删除这个 key；当 key 不存在时，而我们正在尝试增加一个新元素给它，Redis 会负责创建一个空列表。</p>

<p>这不是 List 特有的，它对所有包含多个元素的 Redis 数据类型都有效，包括 Set、Sorted Set 和 Hash。</p>

<p>可以用下面三个规则来总结这个行为：</p>

<ul>
<li>当我们增加一个元素到一个聚合数据类型（aggregate data type），如果目标 key 不存在，那么在增加元素之前被自动创建一个空的聚合数据类型。</li>
<li>当我们从一个聚合数据类型中删除元素，如果值为空，那么这个 key 会自动销毁。</li>
<li>对于一个空 key，调用一个只读命令，如 LLEN（返回列表的长度），或者调用一个删除元素的写命令，总是和持有空聚合类型的 key 产生一样的结果。</li>
</ul>

<p>第1个规则的例子：</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; del mylist</span>
(integer) 1
<span class="hljs-blockquote">&gt; lpush mylist 1 2 3</span>
(integer) 3</code></pre>

<p>然而，我们不能对 key 中存在的错误类型执行操作：</p>



<pre class="prettyprint"><code class=" hljs livecodeserver">&gt; <span class="hljs-built_in">set</span> foo bar
OK
&gt; lpush foo <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
(error) WRONGTYPE Operation against <span class="hljs-operator">a</span> key holding <span class="hljs-operator">the</span> wrong kind <span class="hljs-operator">of</span> <span class="hljs-built_in">value</span>
&gt; type foo
<span class="hljs-keyword">string</span></code></pre>

<p>第2个规则的例子：</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; lpush mylist 1 2 3 </span>
(integer) 3 
<span class="hljs-blockquote">&gt; exists mylist </span>
(integer) 1 
<span class="hljs-blockquote">&gt; lpop mylist </span>
"3" 
<span class="hljs-blockquote">&gt; lpop mylist </span>
"2" 
<span class="hljs-blockquote">&gt; lpop mylist </span>
"1" 
<span class="hljs-blockquote">&gt; exists mylist </span>
(integer) 0</code></pre>

<p>在所有的元素 pop 之后，这个 key 不再存在。</p>

<p>第3个规则的例子：</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; del mylist </span>
(integer) 0 
<span class="hljs-blockquote">&gt; llen mylist </span>
(integer) 0 
<span class="hljs-blockquote">&gt; lpop mylist </span>
(nil)</code></pre>



<h3 id="11-redis-hash">11. Redis Hash</h3>



<pre class="prettyprint"><code class=" hljs bash">Redis <span class="hljs-built_in">hash</span> 是 field-value 对：

&gt; hmset user:<span class="hljs-number">1000</span> username antirez birthyear <span class="hljs-number">1977</span> verified <span class="hljs-number">1</span> 
OK 
&gt; hget user:<span class="hljs-number">1000</span> username 
<span class="hljs-string">"antirez"</span> 
&gt; hget user:<span class="hljs-number">1000</span> birthyear 
<span class="hljs-string">"1977"</span> 
&gt; hgetall user:<span class="hljs-number">1000</span> 
<span class="hljs-number">1</span>) <span class="hljs-string">"username"</span> 
<span class="hljs-number">2</span>) <span class="hljs-string">"antirez"</span> 
<span class="hljs-number">3</span>) <span class="hljs-string">"birthyear"</span> 
<span class="hljs-number">4</span>) <span class="hljs-string">"1977"</span> 
<span class="hljs-number">5</span>) <span class="hljs-string">"verified"</span> 
<span class="hljs-number">6</span>) <span class="hljs-string">"1"</span></code></pre>

<p>Hash 可以非常方便地表示对象，事实上你能放入到 Hash 中字段的数量是没有限制的(除了可用内存)，所以你可以在你的应用中以不同的方式使用 Hash。</p>

<p>命令 HMSET 可以用来设置 Hash 的多个字段，HGET 获取单个字段。HMGET  和 HGET 类似，但是返回一个值数组：</p>



<pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-subst">&gt;</span> hmget user:<span class="hljs-number">1000</span> username birthyear no<span class="hljs-attribute">-such</span><span class="hljs-attribute">-field</span> 
<span class="hljs-number">1</span>) <span class="hljs-string">"antirez"</span> 
<span class="hljs-number">2</span>) <span class="hljs-string">"1977"</span> 
<span class="hljs-number">3</span>) (nil)</code></pre>

<p>这里也有命令能够在单个字段上执行操作，如 HINCRBY：</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; hincrby user:1000 birthyear 10 </span>
(integer) 1987 
<span class="hljs-blockquote">&gt; hincrby user:1000 birthyear 10 </span>
(integer) 1997</code></pre>

<p>你可以在文档（<a href="http://redis.io/commands#hash">http://redis.io/commands#hash</a>）中找到 Hash 命令的完整列表。</p>

<p>值得注意的是小 Hash（例如，一些带有小值的元素）在内存中使用特殊方式编码，这样使他们内存使用非常高效。</p>



<h3 id="12-redis-set">12. Redis Set</h3>

<p>Redis Set 是 String 的无序集合。SADD 命令增加新元素到一个 Set 中。还有一些针对 Set 的其它操作，如检查一个元素是否已经存在，可以在多个 Set 上执行交、并或者差运算等等。</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; sadd myset 1 2 3 </span>
(integer) 3 
<span class="hljs-blockquote">&gt; smembers myset </span>
<span class="hljs-bullet">1. </span>3 
<span class="hljs-bullet">2. </span>1 
<span class="hljs-bullet">3. </span>2</code></pre>

<p>这里，我们加入三个元素到我的 Set 中，并且告诉 Redis 返回所有元素。正如你看到的，他们是无序的，在每次调用时，Redis 以任意顺序返回元素，没有和用户有任何关于元素顺序的约定。</p>

<p>Redis 有用来测试成员关系的命令。执行：</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; sismember myset 3 </span>
(integer) 1 
<span class="hljs-blockquote">&gt; sismember myset 30 </span>
(integer) 0</code></pre>

<p>“3”是 Set 的元素，而“30”不是。</p>

<p>Set 善于用来表达对象间关系。例如我们可以很容易用 Set 来实现打标签。</p>

<p>我们想打标签的每一个对象来构建一个 Set。这个 Set 包含关联这个对象的标签（tag） ID。</p>

<p>如果我们的新闻（news）ID 使用1、2、5和77来进行打标签，那么我们就可以使用一个 Set 关联我们的标签 ID 和新闻数据。</p>



<pre class="prettyprint"><code class=" hljs css">&gt; <span class="hljs-tag">sadd</span> <span class="hljs-tag">news</span><span class="hljs-pseudo">:1000</span><span class="hljs-pseudo">:tags</span> 1 2 5 77 
(<span class="hljs-tag">integer</span>) 4</code></pre>

<p>可是有时我可能也想有反向关系: 所有新闻列表都使用一个给定的 tag 来打标签。</p>



<pre class="prettyprint"><code class=" hljs css">&gt; <span class="hljs-tag">sadd</span> <span class="hljs-tag">tag</span><span class="hljs-pseudo">:1</span><span class="hljs-pseudo">:news</span> 1000 
(<span class="hljs-tag">integer</span>) 1 
&gt; <span class="hljs-tag">sadd</span> <span class="hljs-tag">tag</span><span class="hljs-pseudo">:2</span><span class="hljs-pseudo">:news</span> 1000 
(<span class="hljs-tag">integer</span>) 1 
&gt; <span class="hljs-tag">sadd</span> <span class="hljs-tag">tag</span><span class="hljs-pseudo">:5</span><span class="hljs-pseudo">:news</span> 1000 
(<span class="hljs-tag">integer</span>) 1 
&gt; <span class="hljs-tag">sadd</span> <span class="hljs-tag">tag</span><span class="hljs-pseudo">:77</span><span class="hljs-pseudo">:news</span> 1000 
(<span class="hljs-tag">integer</span>) 1</code></pre>

<p>获得一个给定对象的所有 tag 是非常简单的:</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; smembers news:1000:tags </span>
<span class="hljs-bullet">1. </span>5 
<span class="hljs-bullet">2. </span>1 
<span class="hljs-bullet">3. </span>77 
<span class="hljs-bullet">4. </span>2</code></pre>

<p>注意：在这个例子中，我们是用一个 Redis Hash 来将 tag ID 映射到tag 名称上。</p>

<p>这里也有其它一些比较复杂的操作，仍可以很简单的使用恰当的 Redis 命令来实现。例如，我们可能想得到所有带有 tag 1, 2, 10和27的对象列表。我们可以使用 SINTER 命令来做到这一点，这个命令可以在不同 的Set 上做交集。我可以使用：</p>



<pre class="prettyprint"><code class=" hljs r">&gt; sinter tag:<span class="hljs-number">1</span>:news tag:<span class="hljs-number">2</span>:news tag:<span class="hljs-number">10</span>:news tag:<span class="hljs-number">27</span>:news 
<span class="hljs-keyword">...</span> results here <span class="hljs-keyword">...</span></code></pre>

<p>处理交集操作，你也可以执行并、差或提取一个随机元素等操作。</p>

<p>提取元素的命令是 SPOP，非常适合这种问题的建模。例如，为了实现一个Web 的扑克牌游戏，你可能想使用 Set 来表示。设想我们使用一个字母前缀表示4种花色的扑克牌 (C)lubs、(D)iamonds、(H)earts、(S)pades：</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt;  sadd deck C1 C2 C3 C4 C5 C6 C7 C8 C9 C10 CJ CQ CK </span>
  D1 D2 D3 D4 D5 D6 D7 D8 D9 D10 DJ DQ DK H1 H2 H3 
  H4 H5 H6 H7 H8 H9 H10 HJ HQ HK S1 S2 S3 S4 S5 S6 
  S7 S8 S9 S10 SJ SQ SK 
  (integer) 52</code></pre>

<p>现在我们想提供给每一个玩家5张牌。SPOP 命令删除一个随机元素，并将它返回给客户端，所以在这种情况下，这是完美的操作。</p>

<p>然而如果我们对我们的牌直接调用它，在这个游戏的下一次玩的时候, 我们将需要再次获得一副牌。这可能就不是完美的。所以在开始的时候，我们可以拷贝 deck key 中的 Set 到 game:1:deck 的 key 中。</p>

<p>这可以使用 SUNIONSTORE 完成。这个命令是执行多个 Set 的并操作，并保存结果到另一个 Set 中。然而，一个单独 Set 的并操作是它自己，我们可以通过下面操作拷贝我们的 deck：</p>



<pre class="prettyprint"><code class=" hljs css">&gt; <span class="hljs-tag">sunionstore</span> <span class="hljs-tag">game</span><span class="hljs-pseudo">:1</span><span class="hljs-pseudo">:deck</span> <span class="hljs-tag">deck</span> 
(<span class="hljs-tag">integer</span>) 52</code></pre>

<p>现在，我们已经可以提供给第一个玩家5张牌:</p>



<pre class="prettyprint"><code class=" hljs ruby">&gt; spop <span class="hljs-symbol">game:</span><span class="hljs-number">1</span><span class="hljs-symbol">:deck</span> 
<span class="hljs-string">"C6"</span> 
&gt; spop <span class="hljs-symbol">game:</span><span class="hljs-number">1</span><span class="hljs-symbol">:deck</span> 
<span class="hljs-string">"CQ"</span> 
&gt; spop <span class="hljs-symbol">game:</span><span class="hljs-number">1</span><span class="hljs-symbol">:deck</span> 
<span class="hljs-string">"D1"</span> 
&gt; spop <span class="hljs-symbol">game:</span><span class="hljs-number">1</span><span class="hljs-symbol">:deck</span> 
<span class="hljs-string">"CJ"</span> 
&gt; spop <span class="hljs-symbol">game:</span><span class="hljs-number">1</span><span class="hljs-symbol">:deck</span> 
<span class="hljs-string">"SJ"</span></code></pre>

<p>现在我们可以介绍获取 Set 内元素数量命令。这个通常被称为一个 Set 的基数，在 Set 理论上下文中，对应的 Redis 命令称为 SCARD。</p>



<pre class="prettyprint"><code class=" hljs css">&gt; <span class="hljs-tag">scard</span> <span class="hljs-tag">game</span><span class="hljs-pseudo">:1</span><span class="hljs-pseudo">:deck</span> 
(<span class="hljs-tag">integer</span>) 47</code></pre>

<p>数学计算: 52 - 5 = 47.</p>

<p>当你仅需要获取随机元素，而不需要从 Set 中删除它们，可以使用 SRANDMEMBER 命令。它也提供返回重复和非重复元素的能力。</p>



<h3 id="13-redis-sorted-set">13. Redis Sorted set</h3>

<p>Sorted Set 是和 Set 与 Hash 的混合体很类似的一种数据类型。和 Set一样, Sorted Set 由唯一、不重复的 String 元素组成。所以在某种意义上， Sorted Set 也是 Set。</p>

<p>然而，Set 中的元素是无序的，而 Sorted Set 中每一个元素关联一个称为分数（Score）的浮点值（这就是为什么这个类型也和 Hash 类似，因为每一个元素都映射到一个值）。</p>

<p>此外, 可以有序获取 Sorted Set 中元素（所以你不需要明确要求 Sorted Set 进行排序，排序是 Sorted Set 的特性)。他们根据下面的规则排序：</p>

<ul>
<li>如果A和B是具有不同分数的元素，那么如果 A.score &gt; B.score, 则A&gt;B。</li>
<li>如果A和B确实有相同的分数, 那么如果 A 的 String 比 B 的字典顺序大，则A&gt;B。A和B 的 String 是不可能相等的，因为 Sorted Set 不会包含重复元素。</li>
</ul>

<p>让我们从一个简单的例子开始，将一些选定的黑客名称作为元素增加到 Sorted Set 中，他们的生日年份作为 Score。</p>



<pre class="prettyprint"><code class=" hljs livecodeserver">&gt; zadd hackers <span class="hljs-number">1940</span> <span class="hljs-string">"Alan Kay"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; zadd hackers <span class="hljs-number">1957</span> <span class="hljs-string">"Sophie Wilson"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; zadd hackers <span class="hljs-number">1953</span> <span class="hljs-string">"Richard Stallman"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; zadd hackers <span class="hljs-number">1949</span> <span class="hljs-string">"Anita Borg"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; zadd hackers <span class="hljs-number">1965</span> <span class="hljs-string">"Yukihiro Matsumoto"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; zadd hackers <span class="hljs-number">1914</span> <span class="hljs-string">"Hedy Lamarr"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; zadd hackers <span class="hljs-number">1916</span> <span class="hljs-string">"Claude Shannon"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; zadd hackers <span class="hljs-number">1969</span> <span class="hljs-string">"Linus Torvalds"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; zadd hackers <span class="hljs-number">1912</span> <span class="hljs-string">"Alan Turing"</span>
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span></code></pre>

<p>正如你看到的，ZADD 和 SADD 类似，但是带有一个额外的参数（放置在被增加元素的前面），这就是 Score。ZADD 也是可变列表（Variadic），所以你可以随意指定多个 score-value 对，即使在上面的例子中没有使用。</p>

<p>返回以黑客生日年份排序的黑客列表是非常容易的，因为事实上他们已经作了排序。</p>

<p>实现注意事项:Sorted Set 通过一个 dual-ported 数据结构，包含一个 skip 列表和一个 hash 表，所以每次我们增加一个元素，Redis 执行一个O(log(N)) 的操作。这是非常好的实践，因为当我们请求排序的元素，Redis 完全不需要做任何工作，所有的都已经排序。</p>



<pre class="prettyprint"><code class=" hljs bash">&gt; zrange hackers <span class="hljs-number">0</span> -<span class="hljs-number">1</span> 
<span class="hljs-number">1</span>) <span class="hljs-string">"Alan Turing"</span> 
<span class="hljs-number">2</span>) <span class="hljs-string">"Hedy Lamarr"</span> 
<span class="hljs-number">3</span>) <span class="hljs-string">"Claude Shannon"</span> 
<span class="hljs-number">4</span>) <span class="hljs-string">"Alan Kay"</span> 
<span class="hljs-number">5</span>) <span class="hljs-string">"Anita Borg"</span> 
<span class="hljs-number">6</span>) <span class="hljs-string">"Richard Stallman"</span> 
<span class="hljs-number">7</span>) <span class="hljs-string">"Sophie Wilson"</span> 
<span class="hljs-number">8</span>) <span class="hljs-string">"Yukihiro Matsumoto"</span> 
<span class="hljs-number">9</span>) <span class="hljs-string">"Linus Torvalds"</span></code></pre>

<p>注意：0和-1表示元素 index 0到最后一个元素（-1在这里和 LRANGE 命令中的是一样的）。</p>

<p>如果我想反向排序他们， 使用 ZREVRAGE 代替 ZRANGE：</p>



<pre class="prettyprint"><code class=" hljs bash">&gt; zrevrange hackers <span class="hljs-number">0</span> -<span class="hljs-number">1</span> 
<span class="hljs-number">1</span>) <span class="hljs-string">"Linus Torvalds"</span> 
<span class="hljs-number">2</span>) <span class="hljs-string">"Yukihiro Matsumoto"</span> 
<span class="hljs-number">3</span>) <span class="hljs-string">"Sophie Wilson"</span> 
<span class="hljs-number">4</span>) <span class="hljs-string">"Richard Stallman"</span> 
<span class="hljs-number">5</span>) <span class="hljs-string">"Anita Borg"</span> 
<span class="hljs-number">6</span>) <span class="hljs-string">"Alan Kay"</span> 
<span class="hljs-number">7</span>) <span class="hljs-string">"Claude Shannon"</span> 
<span class="hljs-number">8</span>) <span class="hljs-string">"Hedy Lamarr"</span> 
<span class="hljs-number">9</span>) <span class="hljs-string">"Alan Turing"</span></code></pre>

<p>我们也可以返回 Score, 使用 WITHSCORES 参数：</p>



<pre class="prettyprint"><code class=" hljs bash">&gt; zrange hackers <span class="hljs-number">0</span> -<span class="hljs-number">1</span> withscores 
<span class="hljs-number">1</span>) <span class="hljs-string">"Alan Turing"</span> 
<span class="hljs-number">2</span>) <span class="hljs-string">"1912"</span> 
<span class="hljs-number">3</span>) <span class="hljs-string">"Hedy Lamarr"</span> 
<span class="hljs-number">4</span>) <span class="hljs-string">"1914"</span> 
<span class="hljs-number">5</span>) <span class="hljs-string">"Claude Shannon"</span> 
<span class="hljs-number">6</span>) <span class="hljs-string">"1916"</span> 
<span class="hljs-number">7</span>) <span class="hljs-string">"Alan Kay"</span> 
<span class="hljs-number">8</span>) <span class="hljs-string">"1940"</span> 
<span class="hljs-number">9</span>) <span class="hljs-string">"Anita Borg"</span> 
<span class="hljs-number">10</span>) <span class="hljs-string">"1949"</span> 
<span class="hljs-number">11</span>) <span class="hljs-string">"Richard Stallman"</span> 
<span class="hljs-number">12</span>) <span class="hljs-string">"1953"</span> 
<span class="hljs-number">13</span>) <span class="hljs-string">"Sophie Wilson"</span> 
<span class="hljs-number">14</span>) <span class="hljs-string">"1957"</span> 
<span class="hljs-number">15</span>) <span class="hljs-string">"Yukihiro Matsumoto"</span> 
<span class="hljs-number">16</span>) <span class="hljs-string">"1965"</span> 
<span class="hljs-number">17</span>) <span class="hljs-string">"Linus Torvalds"</span> 
<span class="hljs-number">18</span>) <span class="hljs-string">"1969"</span></code></pre>



<h3 id="14-在范围上的操作">14. 在范围上的操作</h3>

<p>Sorted Set 比上面提到的更强大。他们可以对一个范围进行操作。让我们获得所有1950年和之前出生的人。我们可以使用 ZRANGEBYSCORE 命令做到这点：</p>



<pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-subst">&gt;</span> zrangebyscore hackers <span class="hljs-attribute">-inf</span> <span class="hljs-number">1950</span> 
<span class="hljs-number">1</span>) <span class="hljs-string">"Alan Turing"</span> 
<span class="hljs-number">2</span>) <span class="hljs-string">"Hedy Lamarr"</span> 
<span class="hljs-number">3</span>) <span class="hljs-string">"Claude Shannon"</span> 
<span class="hljs-number">4</span>) <span class="hljs-string">"Alan Kay"</span> 
<span class="hljs-number">5</span>) <span class="hljs-string">"Anita Borg"</span></code></pre>

<p>我们要求 Redis 返回所有从负无穷到1950之间 Score 的所有元素(两个极端都包含)。</p>

<p>我们也可以删除一个区域的所有元素。让我们从 Sorted Set 中删除在1940到1960之间出生的所有黑客：</p>



<pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; zremrangebyscore hackers 1940 1960 </span>
(integer) 4</code></pre>

<p>ZREMRANGEBYSCORE 可能不是最好的命令名称，但是它非常有用。它的返回值是删除元素的数量。</p>

<p>Sorted Set 的另一个非常有用的命令是获取位置操作。可能用来查询一个元素在 Sorted Set 中的排序位置。</p>



<pre class="prettyprint"><code class=" hljs livecodeserver">&gt; zrank hackers <span class="hljs-string">"Anita Borg"</span> 
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">4</span></code></pre>

<p>ZREVRANK 命令也是可以获得元素位置，但是元素反序排列的位置。</p>



<h3 id="15-lexicographical字典顺序scores">15. Lexicographical（字典顺序）scores</h3>

<p>在最近 Redis 2.8 版本中引入了一个新的特性，获取字典顺序（Lexicographical）范围。 可以设想这个特性就是在 Sorted Se t中所有元素插入时带有相同的 Score（元素使用C 语言的 memcmp 函数进行比较，所以保证没有冲突，并且每一个 Redis 实例回复相同的输出）。</p>

<p>字典顺序范围操作的主要命令有 ZRANGEBYLEX、ZREVRANGEBYLEX、ZREMRANGEBYLEX 和 ZLEXCOUNT。</p>

<p>例如， 让我们再次加入著名黑客列表，但是这次对所有元素使用 Score 0。</p>



<pre class="prettyprint"><code class=" hljs bash">&gt; zadd hackers <span class="hljs-number">0</span> <span class="hljs-string">"Alan Kay"</span> <span class="hljs-number">0</span> <span class="hljs-string">"Sophie Wilson"</span> <span class="hljs-number">0</span> <span class="hljs-string">"Richard Stallman"</span> <span class="hljs-number">0</span> 
  <span class="hljs-string">"Anita Borg"</span> <span class="hljs-number">0</span> <span class="hljs-string">"Yukihiro Matsumoto"</span> <span class="hljs-number">0</span> <span class="hljs-string">"Hedy Lamarr"</span> <span class="hljs-number">0</span> <span class="hljs-string">"Claude Shannon"</span> 
  <span class="hljs-number">0</span> <span class="hljs-string">"Linus Torvalds"</span> <span class="hljs-number">0</span> <span class="hljs-string">"Alan Turing"</span></code></pre>

<p>因为这个 Sorted Set 的排序规则，他们已经以字典顺序排序：</p>



<pre class="prettyprint"><code class=" hljs bash">&gt; zrange hackers <span class="hljs-number">0</span> -<span class="hljs-number">1</span> 
<span class="hljs-number">1</span>) <span class="hljs-string">"Alan Kay"</span> 
<span class="hljs-number">2</span>) <span class="hljs-string">"Alan Turing"</span> 
<span class="hljs-number">3</span>) <span class="hljs-string">"Anita Borg"</span> 
<span class="hljs-number">4</span>) <span class="hljs-string">"Claude Shannon"</span> 
<span class="hljs-number">5</span>) <span class="hljs-string">"Hedy Lamarr"</span> 
<span class="hljs-number">6</span>) <span class="hljs-string">"Linus Torvalds"</span> 
<span class="hljs-number">7</span>) <span class="hljs-string">"Richard Stallman"</span> 
<span class="hljs-number">8</span>) <span class="hljs-string">"Sophie Wilson"</span> 
<span class="hljs-number">9</span>) <span class="hljs-string">"Yukihiro Matsumoto"</span></code></pre>

<p>通过使用 ZRANGEBYLEX，我们可以得到字典顺序范围：</p>



<pre class="prettyprint"><code class=" hljs bash">&gt; zrangebylex hackers [B [P 
<span class="hljs-number">1</span>) <span class="hljs-string">"Claude Shannon"</span> 
<span class="hljs-number">2</span>) <span class="hljs-string">"Hedy Lamarr"</span> 
<span class="hljs-number">3</span>) <span class="hljs-string">"Linus Torvalds"</span></code></pre>

<p>范围可以设置为“包含”或“排除”规则（根据第一个字符)。string  infinite 和 minus infinite 分别使用+和-来指定。 </p>

<p>这个特性很重要，因为它允许我们将 Sorted set 用着通用的 index。例如，如果你想通过一个 128-bit 无符号整形参数来 index 一个元素，你可以将 Sorted Set 中元素设置成相同的 Score（例如0)，但在元素前面加上一个 8 byte 前缀。这8 byte由128 bit 数字以大端字节序（big endian）组成。 因为数字是大端字节序, 当按照字典顺序排序事实上也是按照数字排序。你可以获取在128bit空间中的任何范围，并且获得元素的值，然后抛弃这个前缀。</p>

<p>如果你想在一个更加正式的 demo 中查看这个特性，参考 Redis autocomplete demo （网址为 <a href="http://autocomplete.redis.io/">http://autocomplete.redis.io/</a>）。</p>



<h3 id="16-更新-score积分榜">16. 更新 Score：积分榜</h3>

<p>Sorted Set 的分数可以在任何时候都可以被修改。仅需要在 Sorted Set 中包含的元素上调用 ZADD 命令，就可以更新它的值（和位置）。其时间复杂度是O(log(N))。正是这样，Sorted Set 也适用在有大量更新的场景。</p>

<p>正因这个特性，一个常见的用例是积分榜。 Facebook 游戏就是一个经典的应用。你结合按最高分排序用户的能力，和获取位置的操作，来显示最前 N 位用户以及在积分榜上的用户位置。</p>



<h3 id="17-bitmap位图">17. Bitmap（位图）</h3>

<p>Bitmap 不是一个真实数据类型，而是定义在 String 类型上面向 bit 操作的集合。因为 String 是二进制安全的，最大长度可以是512MB。他们适合设置2^32个不同的 bit。</p>

<p>bit 操作被分成两个组：</p>

<ul>
<li>常量时间单 bit 操作，如设置一个 bit 为1或者0，又或者获得它的值；</li>
<li>在 bit 组上的操作，例如，在一个给定 bit 范围的 bit 的计数（例如，人口统计)。</li>
</ul>

<p>Bitmap 最大优点之一是在存储信息时，他们经常能节约大量空间。例如在一个系统中，不同用户通过递增用户ID来表示。可以记录一个单个 bit 的信息(例如，仅需要512MB内存就可以记录40亿用户中每一个用户是否接受一个刊物)。</p>

<p>使用 SETBIT 和 GETBIT 命令设置或获取 bit：</p>



<pre class="prettyprint"><code class=" hljs vbnet">&gt; setbit <span class="hljs-keyword">key</span> <span class="hljs-number">10</span> <span class="hljs-number">1</span> 
(<span class="hljs-built_in">integer</span>) <span class="hljs-number">1</span> 
&gt; getbit <span class="hljs-keyword">key</span> <span class="hljs-number">10</span> 
(<span class="hljs-built_in">integer</span>) <span class="hljs-number">1</span> 
&gt; getbit <span class="hljs-keyword">key</span> <span class="hljs-number">11</span> 
(<span class="hljs-built_in">integer</span>) <span class="hljs-number">0</span></code></pre>

<p>SETBIT 命令将 bit 序号作为它的第一个参数，需要设置的值作为它的第二个参数。</p>

<p>GETBIG 仅返回在指定位置上 bit 值。在范围以外的 bit（定位一个在目标 key 保存的 string 的长度之外的 bit）总是被认为是0。</p>

<p>在 bit 组上的三个命令操作。</p>

<ul>
<li>BITOP 在不同的 string 按位操作。提供的操作有AND、OR、XOR 和 NOT。</li>
<li>BITCOUNT 获取设置成1的 bit 数量。</li>
<li>BITPOS 查找指定0或者1值的第一个 bit。</li>
</ul>

<p>BITOPS 和 BITCOUNT 能够在 string 的 byte 范围上操作，而不是在整个 string 长度上运行。下面是一个 BITCOUNT 调用的简单例子。</p>



<pre class="prettyprint"><code class=" hljs vbnet">&gt; setbit <span class="hljs-keyword">key</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> 
(<span class="hljs-built_in">integer</span>) <span class="hljs-number">0</span> 
&gt; setbit <span class="hljs-keyword">key</span> <span class="hljs-number">100</span> <span class="hljs-number">1</span> 
(<span class="hljs-built_in">integer</span>) <span class="hljs-number">0</span> 
&gt; bitcount <span class="hljs-keyword">key</span> 
(<span class="hljs-built_in">integer</span>) <span class="hljs-number">2</span></code></pre>

<p>Bitmap 的常见用例：</p>

<ul>
<li>所有类型的实时分析</li>
<li>高效的存储空间，同时具有高性能的关联对象ID的布尔信息</li>
</ul>

<p>例如，你想知道你的网站用户日访问最长的 streak。从你的网站开放开始自0开始计天数，每次有用户访问网站就使用 SETBIT 设置一个 bit。使用当前 unix 时间作为 bit index, 减去初始偏移量，并除以3600*24。</p>

<p>对于每一个用户，你使用一个小 string 包含每天的访问信息。使用BITCOUNT 可以很容易得到一个用户访问网站的天数。使用一些 BITPOS 调用简单的获取和分析 bitmap 客户端，就可以很容易计算出最长的 streak。</p>

<p>Bitmap 可以很容易的分割成多个 key。因为需要将数据集合分片，以及避免使用巨大的 key ，我们将一个 Bitmap 分割成不同的 key，而不是将所有的 bit 设置到一个 key 中。实现这个的一个简单策略是每个 key 仅保存 M 个 bit，并使用 bit-number/M 获得 key 的名称，第 N 个 bit 通过 bit-number MOD M 来在 key 中定位。</p>



<h3 id="18-hyperloglogs">18. HyperLogLogs</h3>

<p>HyperLogLog 是带有统计功能的数据结构，用来统计唯一的事情（技术上来讲，这是估计 set 的基数）。一般来说，计算个数需要一定比例的内存，这个比例和计算元素个数相关。因为你要记住你之前计数过的元素，防止重复计数。有一系列算法以内存换精度：你可以以估计手段，限制一个标准误差，例如在 Redis 中，去查小于1%。这个算法的神奇在于你不用使用根据计算元素个数来设定使用的内存，而是可以使用常量的内存。最坏情况下，是 12k 的字节，如果 HyperLogLog 元素少，内存可以更少。</p>

<p>Redis 中，HLLs（HyperLogLog）是不同的数据结构，它被强制看作 Redis string，所以你可以用 GET 来序列化一个 HLL，使用 SET 来反序列化它到服务器上。 </p>

<p>概念上讲，HLL API 像使用 Set 来做相同的任务。你可以 SADD 每个观察元素到 set，使用 SCARD 来检查 set 中元素数量，它是唯一的，因为 SADD 不会重复添加存在的元素。</p>

<p>当你没有真正给 HLL 添加元素，因为数据结构仅仅包含状态，不包含实际元素。API 类似如下： </p>

<ul>
<li>每次你看到一个新元素，使用 PFADD 把它添加到计数器中。 </li>
<li>每次你想获取当前唯一元素的近似位置，请使用 PFADD，而后再使用 PFCOUNT。</li>
</ul>



<pre class="prettyprint"><code class=" hljs livecodeserver">&gt; pfadd hll <span class="hljs-operator">a</span> b c d
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">1</span>
&gt; pfcount hll
(<span class="hljs-keyword">integer</span>) <span class="hljs-number">4</span></code></pre>

<p>使用这个数据结构的一个例子是统计用户每天唯一查询的的次数。</p>



<h2 id="参考引用">参考引用</h2>

<ul>
<li><a href="http://redis.io/clients">http://redis.io/clients</a></li>
<li><a href="http://redis.io/topics/data-types-intro">http://redis.io/topics/data-types-intro</a></li>
</ul></div>
        <script  type="text/javascript">
            $(function () {
                $('pre.prettyprint code').each(function () {
                    var lines = $(this).text().split('\n').length;
                    var $numbering = $('<ul/>').addClass('pre-numbering').hide();
                    $(this).addClass('has-numbering').parent().append($numbering);
                    for (i = 1; i <= lines; i++) {
                        $numbering.append($('<li/>').text(i));
                    };
                    $numbering.fadeIn(1700);
                });
            });
        </script>
   
</div>




<!-- Baidu Button BEGIN -->




<div class="bdsharebuttonbox tracking-ad" style="float: right;" data-mod="popu_172">
<a href="#" class="bds_more" data-cmd="more" style="background-position:0 0 !important; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png) !important"></a>
<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"  style="background-position:0 -52px !important"></a>
<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"style="background-position:0 -104px !important"></a>
<a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"style="background-position:0 -260px !important"></a>
<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"style="background-position:0 -208px !important"></a>
<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"style="background-position:0 -1612px !important" ></a>
</div>
<script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "1", "bdMiniList": false, "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script>
<!-- Baidu Button END -->

   

    
<!--172.16.140.13-->

<!-- Baidu Button BEGIN -->
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=1536434" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
    document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->

<script type="text/javascript">
    var fromjs = $("#fromjs");
    if (fromjs.length > 0) {
            $("#fromjs .markdown_views pre").addClass("prettyprint");
            prettyPrint();

            $('pre.prettyprint code').each(function () {
                var lines = $(this).text().split('\n').length;
                var $numbering = $('<ul/>').addClass('pre-numbering').hide();
                $(this).addClass('has-numbering').parent().append($numbering);
                for (i = 1; i <= lines; i++) {
                    $numbering.append($('<li/>').text(i));
                };
                $numbering.fadeIn(1700);
            });

            $('.pre-numbering li').css("color", "#999");
        }

    
    $(".markdown_views a[target!='_blank']").attr("target", "_blank");

    $(".toc a[target='_blank']").attr("target", "");



</script>

 


        <div id="digg" ArticleId="52578058" >
            <dl id="btnDigg" class="digg digg_disable"  onclick="btndigga();">
               
                 <dt>顶</dt>
                <dd>0</dd>
            </dl>
           
              
            <dl id="btnBury" class="digg digg_disable"  onclick="btnburya();">
              
                  <dt>踩</dt>
                <dd>0</dd>               
            </dl>
            
        </div>
     <div class="tracking-ad" data-mod="popu_222"><a href="javascript:void(0);" >&nbsp;</a>   </div>
    <div class="tracking-ad" data-mod="popu_223"> <a href="javascript:void(0);" >&nbsp;</a></div>
    <script type="text/javascript">
                function btndigga() {
                    $(".tracking-ad[data-mod='popu_222'] a").click();
                }
                function btnburya() {
                    $(".tracking-ad[data-mod='popu_223'] a").click();
                }
            </script>

   <ul class="article_next_prev">
                <li class="prev_article"><span  onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shangyipian']);location.href='/kkkloveyou/article/details/52518325';">上一篇</span><a href="/kkkloveyou/article/details/52518325" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shangyipian'])">Apache HBase 入门教程</a></li>
                <li class="next_article"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_xiayipian']);location.href='/kkkloveyou/article/details/53875987';">下一篇</span><a href="/kkkloveyou/article/details/53875987" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_xiayipian'])">为什么我们迫切需要持续集成（Continuous Integration）</a></li>
    </ul>

    <div style="clear:both; height:10px;"></div>


    <div id="articlecommend"  style="display:none"></div>
        <div class="similar_article"   >
                <h4></h4>
                <div class="similar_c"style="margin:20px 0px 0px 0px">
                    <div class="similar_c_t">
                      &nbsp;&nbsp;相关文章推荐
                    </div>
                   
                    <div class="similar_wrap tracking-ad" data-mod="popu_36"  style="max-height:195px;">                       
                        <ul class="similar_list fl">                          
                        </ul>
                          <ul class="similar_list fr">                          
                        </ul>
                    </div>
                </div>
            </div>    
      
</div>

     <div>
           

         <script type="text/javascript">
             /*博客内容页下方Banner1-960*90，创建于2016-12-13*/
             var cpro_id = "u2843955";
        </script>
        <script type="text/javascript" src="http://cpro.baidustatic.com/cpro/ui/c.js"></script>
    </div>

<div id="suggest"></div>
         <script  language="javascript" type='text/javascript'>     
             $(function(){
                 $.get("/kkkloveyou/svc/GetSuggestContent/52578058",function(data){
                     $("#suggest").html(data);
                 });     
             });             
         </script>  


<style>
.blog-ass-articl dd {
color: #369;
width: 99%; /*修改行*/
float: left;
overflow: hidden;
font: normal normal 12px/23px "SimSun";
height: 23px;
margin: 0;
padding: 0 0 0 10px;
margin-right: 30px;
background: url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;
}
</style>

 
<div id="relate" data-mod="popu_218"  class="tracking-ad">
        <div class="relate_t">
            <h3><span>参考知识库</span></h3>
        </div>
        <div class="relate_c">
        </div>
</div>
 

<dl class="blog-ass-articl tracking-ad" id="res-relatived" data-mod="popu_84"  > 
    <div class="embody embody_b" id="libkeyparent"  style="display:none">
            <span class="embody_t">更多资料请参考：</span>
            <div class="embody_c" id="libkey"></div>
    </div>


     <dt><span>猜你在找</span></dt>    


   


    <div id="adcollegedata" style="display:none"></div>

    <div id="adCollege" style="width: 42%;float: left;"> 
    </div>  

    
     <div id="resforAd"  style="width: 42%;float: left;margin-right: 30px;"></div>

     <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script> 
     <script type="text/javascript">
         csdn.position.showEdu({
             sourceType: "blog",
             searchType: "detail",
             searchKey: "52578058",
                username: "",
                recordcount: "10",
                containerId: "adcollegedata" //容器DIV的id。 
            });

            //setEduLoc();

            //function setEduLoc() {
            //    var edus = $("#adCollege div dd a");
            //    if (edus.length == 0) {
            //        setTimeout(function () {
            //            setEduLoc();
            //        }, 500);
            //    }
            //    else {
            //        var eduLoc = "?ref=blog&loc=0";
            //        $.each(edus, function (index, item) {
            //            var href = $(this).attr("href") + eduLoc;
            //            $(this).attr("href", href);
            //        });
            //    }
            //}


            setTimeout(function () {
                var adcolleges = $("#adcollegedata div dd");
                for (var i = 0; i < adcolleges.length; i++) {
                    if (i < 5) {
                        $("#adCollege").append("<dd>" + $(adcolleges[i]).html() + "</dd");
                    }
                    else {
                        $("#resforAd").append("<dd>" + $(adcolleges[i]).html() + "</dd");
                    }
                }
            }, 1500);
                    

        </script> 
   
</dl>





    <div id="ad_cen">        
                <div>
                                    <div class="J_adv" data-view="true" data-mod="ad_popu_199" data-mtp="43" data-order="114" data-con="ad_content_1843" style="width: 960px; height: 90px;">
                                             <script type="text/javascript">
                                                 /*博客内容页下方Banner2-960*90，创建于,2016-11-28*/
                                                 var cpro_id = "u2831143";
                                            </script>
                                            <script type="text/javascript" src="http://cpro.baidustatic.com/cpro/ui/c.js"></script>
                                   </div>
                    </div>
    </div>  

        <!-- 广告位开始 -->
        <!-- 广告位结束 -->
<div class="J_adv" data-view="true" data-mod="ad_popu_72" data-mtp="62" data-order="40" data-con="ad_content_2072">
                 <script id="popuLayer_js_q" src="http://ads.csdn.net/js/popuLayer.js" defer="defer"  type="text/javascript"></script>
            <div id="layerd" style="position: fixed;bottom:0px;right:0px;line-height:0px;z-index:1000">
    	            <div class="J_close layer_close" style="display:;background-color:#efefef;padding:0px;color:#333;font:12px/24px Helvetica,Tahoma,Arial,sans-serif;text-align:right;">关闭</div><!-- 广告占位容器 --><div id="cpro_u2895327"></div></div>
            <script>  document.getElementById("popuLayer_js_q").onload=function(){      var styObjd=styObj={width:"300px","height":parseInt(250)+28};window.CSDN.Layer.PopuLayer("#layerd",{storageName:"layerd",styleObj:styObjd,total:50,expoire:1000*60});  }</script><!-- 投放代码 --><script type="text/javascript">                /*服务器频道首页置顶Banner960*90，创建于2014-7-3*/    (window.cproArray = window.cproArray || []).push({        id: "u2895327"      });  </script>  <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
     
</div>

<div class="comment_class">
    <div id="comment_title" class="panel_head">
        <span class="see_comment">查看评论</span><a name="comments"></a></div>
    <div id="comment_list">
    </div>
    <div id="comment_bar">
    </div>
    <div id="comment_form">
    </div>
    <div class="announce">
        * 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
</div>

<script type="text/javascript">
    var fileName = '52578058';
    var commentscount = 0;
    var islock = false
</script>

    <div id="ad_bot">
    </div>
<div id="report_dialog">
</div>

<div id="d-top"  style="bottom:60px;">

        <a id="quick-reply" class="btn btn-top q-reply" title="快速回复" style="display:none;">
            <img src="http://static.blog.csdn.net/images/blog-icon-reply.png" alt="快速回复">
        </a>    
    <a id="d-top-a" class="btn btn-top backtop"  style="display: none;" title="返回顶部" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_huidaodingbu'])" style="">         
         <img src="http://static.blog.csdn.net/images/top.png" alt="TOP">
    </a>
</div>
<script type="text/javascript">
    $(function ()
    {
        $("#ad_frm_0").height("90px");
        
        setTimeout(function(){
            $("#ad_frm_2").height("200px");
        },1000);    
    });
  
</script>
<style type="text/css">
    .tag_list
    {
        background: none repeat scroll 0 0 #FFFFFF;
        border: 1px solid #D7CBC1;
        color: #000000;
        font-size: 12px;
        line-height: 20px;
        list-style: none outside none;
        margin: 10px 2% 0 1%;
        padding: 1px;
    }
    .tag_list h5
    {
        background: none repeat scroll 0 0 #E0DBD3;
        color: #47381C;
        font-size: 12px;
        height: 24px;
        line-height: 24px;
        padding: 0 5px;
        margin: 0;
    }
    .tag_list h5 a
    {
        color: #47381C;
    }
    .classify
    {
        margin: 10px 0;
        padding: 4px 12px 8px;
    }
    .classify a
    {
        margin-right: 20px;
        white-space: nowrap;
    }
</style>


<div class="tag_list" style="display:none"></div>
  <script  type='text/javascript'>     
      $(function(){
              setTimeout(function(){
                  $.get("/kkkloveyou/svc/GetTagContent",function(data){
                      $(".tag_list").html(data).show();
                  });     
              });
          },500);                       
 </script> 


<div id="pop_win" style="display:none ;position: absolute; z-index: 10000; border: 1px solid rgb(220, 220, 220); top: 222.5px; left: 630px; opacity: 1; background: none 0px 0px repeat scroll rgb(255, 255, 255);">
    
</div>
<div id="popup_mask"></div>
<style>
    #popup_mask
    {
        position: absolute;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 9999;
        left: 0px;
        top: 0px;
        opacity: 0.3;
        filter: alpha(opacity=30);
        display: none;
    }

</style>




<script type="text/javascript">
    $(function(){        
        
        setTimeout(function(){
            $(".comment_body:contains('回复')").each(function(index,item){
                var u=$(this).text().split('：')[0].toString().replace("回复","")
                var thisComment=$(this);
                if(u)
                {
                    $.getJSON("https://passport.csdn.net/get/nick?callback=?", {users: u}, function(a) {
                        if(a!=null&&a.data!=null&&a.data.length>0)
                        {
                            nick=a.data[0].n; 
                            if(u!=nick)
                            {
                                thisComment.text(thisComment.text().replace(u,nick));  
                            }
                        }       
                    });  
                }
            });         

        },200);  

        setTimeout(function(){
            $(".math").each(function(index,value){$(this).find("span").last().css("color","#fff"); })
        },5000);

        setTimeout(function(){
            $(".math").each(function(index,value){$(this).find("span").last().css("color","#fff"); })
        },10000);

        setTimeout(function(){
            $(".math").each(function(index,value){$(this).find("span").last().css("color","#fff"); })
        },15000);
        
        setTimeout(function(){
            $("a img[src='http://js.tongji.linezing.com/stats.gif']").parent().css({"position":"absolute","left":"50%"});
        },300);
    });

    function loginbox(){
        var $logpop=$("#pop_win");
        $logpop.html('<iframe src="https://passport.csdn.net/account/loginbox?service=http://static.blog.csdn.net/callback.htm" frameborder="0" height="600" width="400" scrolling="no"></iframe>');

        $('#popup_mask').css({
            opacity: 0.5,
            width: $( document ).width() + 'px',
            height:  $( document ).height() + 'px'
        });
        $('#popup_mask').css("display","block");
 
        $logpop.css( {
            top: ($( window ).height() - $logpop.height())/ 2  + $( window 
       ).scrollTop() + 'px',
            left:($( window ).width() - $logpop.width())/ 2
        } );
 
        setTimeout( function () {
            $logpop.show();
            $logpop.css( {
                opacity: 1
            } );
        }, 200 );
 
        $('#popup_mask').unbind("click");
        $('#popup_mask').bind("click", function(){
            $('#popup_mask').hide();
            var $clopop = $("#pop_win");
            $("#common_ask_div_sc").css("display","none");
            $clopop.css( {
                opacity: 0
            } );
            setTimeout( function () {
                $clopop.hide();
            }, 350 );
            return false;
        });
    }   

    var articletitle='Redis 数据类型及抽象';

</script>








                        <div class="clear">
                        </div>
                    </div>                   
                
            </div>
                   
           <div id="side">
               
    <div class="side">
<div id="panel_Profile" class="panel">
<ul class="panel_head"><span>个人资料</span></ul>
<ul class="panel_body profile">
<div id="blog_userface">
    <a href="http://my.csdn.net/kkkloveyou" target="_blank">
    <img src="http://avatar.csdn.net/E/1/F/1_kkkloveyou.jpg" title="访问我的空间" style="max-width:90%"/>
    </a>
    <br />
    <span><a href="http://my.csdn.net/kkkloveyou" class="user_name" target="_blank">kkkloveyou</a></span>
</div>
<div class="interact">

    <a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]"></a>

 <a href="javascript:void(0);" class="letter"  title="[发私信]" onclick="window.open('http://msg.csdn.net/letters/model?receiver=kkkloveyou','_blank','height=350,width=700');_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_sixin'])"></a>  
</div>
<div id="blog_medal">
                       <div class="ico_expert"  onclick="javascript:location='http://blog.csdn.net/experts/rule.html'" title="CSDN认证专家" style="cursor:pointer;width:60px;height:60px;background:url('http://c.csdnimg.cn/jifen/images/xunzhang/xunzhang/bokezhuanjiamiddle.png') no-repeat" ></div>
                <div id="bms_box">
                                            <a  target="_blank">
                                                    <img src="http://c.csdnimg.cn/jifen/images/xunzhang/xunzhang/zhuanlandaren.png" onmouseover="m_over_m(this,2)" onmouseout="m_out_m()" alt="1" >
                                            </a>
               </div>
</div>
<ul id="blog_rank">
    <li>访问：<span>470672次</span></li>
    <li>积分：<span>4967</span> </li>    
    <li >等级： <span style="position:relative;display:inline-block;z-index:1" >
            <img src="http://c.csdnimg.cn/jifen/images/xunzhang/jianzhang/blog5.png" alt="" style="vertical-align: middle;" id="leveImg">
            <div id="smallTittle" style=" position: absolute;  left: -24px;  top: 25px;  text-align: center;  width: 101px;  height: 32px;  background-color: #fff;  line-height: 32px;  border: 2px #DDDDDD solid;  box-shadow: 0px 2px 2px rgba (0,0,0,0.1);  display: none;   z-index: 999;">
            <div style="left: 42%;  top: -8px;  position: absolute;  width: 0;  height: 0;  border-left: 10px solid transparent;  border-right: 10px solid transparent;  border-bottom: 8px solid #EAEAEA;"></div>
            积分：4967 </div>
        </span>  </li>
    <li>排名：<span>第5103名</span></li>
</ul>
<ul id="blog_statistics">
    <li>原创：<span>101篇</span></li>
    <li>转载：<span>0篇</span></li>
    <li>译文：<span>5篇</span></li>
    <li>评论：<span>184条</span></li>
</ul>
</ul>
</div>


<div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body" class="form_search">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search csdn-tracking-statistics" target="_blank"  data-mod="popu_306">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字" /></span>
        <input id="btnSubmit" type="button" value="搜索" title="search in blog" />
        <input type="hidden" name="q" id="inputQ" />
        <input type="hidden" name="t" value="blog" />
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div>

<script type="text/javascript">

   
    $(function () {
        $("#btnSubmit").unbind("click");
        $("#btnSubmit").click(function () {           
            search();
        });

        $("#frmSearch").submit(function () {           
            search();
            return false;
        });

        function search()
        {
            if ($("#inputSearch").val() == "") {               
                alert("请录入搜索关键词！");                         
                return false;
            }
            //var url = "http://so.csdn.net/so/search/s.do?q=" + encodeURIComponent($("#inputSearch").val()) + "&u=" + username + "&t=blog";           
            var url = "https://www.baidu.com/s?wd=" + encodeURIComponent($("#inputSearch").val()) + "%20site%3Ablog.csdn.net"
            window.location.href = url;
        }   
    });
</script><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>博客专栏</span></ul>
    <ul class="panel_body" id="sp_column">
    <table cellpadding="0" cellspacing="0"><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/jersey-rest.html" target="_blank"><img src="http://img.blog.csdn.net/20160125200402661" style="width:75px;height:75px;" /></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/jersey-rest.html" target="_blank">用 Jersey 构建 RESTful 服务</a>
    <p>文章：7篇</p>
    <span>阅读：90447</span>
    </td>
    </tr></table>
    </ul>
</div><div id="panel_Category" class="panel">
<ul class="panel_head"><span>文章分类</span></ul>
<ul class="panel_body">    
                 <li>
                    <a href="/kkkloveyou/article/category/838110" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Java</a><span>(34)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/841041" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">java 算法</a><span>(2)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/847608" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Java 核心 应用</a><span>(2)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/848368" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Java试题</a><span>(2)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/860711" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">ActionScript3.0</a><span>(9)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/928425" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Office</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/928432" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">数据</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/949177" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">网络</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/958266" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Flex</a><span>(18)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/1094868" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Spring</a><span>(6)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/1141550" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Webservice</a><span>(7)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/1171113" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">悟</a><span>(2)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/1184759" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">搜索</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/1213808" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">技术</a><span>(3)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/1288434" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Golang</a><span>(6)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/1573677" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Mysql</a><span>(4)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/1654903" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Windows</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/2135125" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Hibernate</a><span>(6)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/2270791" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">JasperReports</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/2300159" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">SVG</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/2492673" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">REST</a><span>(3)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/2697461" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Github</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/2801515" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">maven</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/2801517" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">tomcat</a><span>(2)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/2912119" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Jersey</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/3055451" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">netty</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/3083679" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Mina</a><span>(2)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6089794" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Web</a><span>(5)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6092268" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">系统架构设计师</a><span>(0)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6092271" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">架构师</a><span>(2)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6100851" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Microservices</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6104733" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Docker</a><span>(4)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6389608" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Hadoop</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6414832" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">HBase</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6422827" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Redis</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6641307" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">持续集成</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6703316" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Linux</a><span>(1)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6768077" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Distribute</a><span>(2)</span>
                </li>
                 <li>
                    <a href="/kkkloveyou/article/category/6930850" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">NGINX</a><span>(0)</span>
                </li>
</ul>
</div><div id="panel_Archive" class="panel">
<ul class="panel_head"><span>文章存档</span></ul>
<ul class="panel_body">
<div id="archive_list">
<!--归档统计-->
<li><a href="/kkkloveyou/article/month/2017/05">2017年05月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2017/04">2017年04月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2017/03">2017年03月</a><span>(3)</span></li><li><a href="/kkkloveyou/article/month/2017/02">2017年02月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2016/12">2016年12月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2016/09">2016年09月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2016/08">2016年08月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2016/07">2016年07月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2016/05">2016年05月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2016/04">2016年04月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2016/03">2016年03月</a><span>(4)</span></li><li><a href="/kkkloveyou/article/month/2016/02">2016年02月</a><span>(8)</span></li><li><a href="/kkkloveyou/article/month/2016/01">2016年01月</a><span>(3)</span></li><li><a href="/kkkloveyou/article/month/2015/04">2015年04月</a><span>(5)</span></li><li><a href="/kkkloveyou/article/month/2015/03">2015年03月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2014/12">2014年12月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2014/11">2014年11月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2014/08">2014年08月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2014/06">2014年06月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2014/05">2014年05月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2014/03">2014年03月</a><span>(8)</span></li><li><a href="/kkkloveyou/article/month/2013/10">2013年10月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2013/09">2013年09月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2013/08">2013年08月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2013/07">2013年07月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2013/06">2013年06月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2013/05">2013年05月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2013/03">2013年03月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2013/01">2013年01月</a><span>(3)</span></li><li><a href="/kkkloveyou/article/month/2012/12">2012年12月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2012/11">2012年11月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2012/10">2012年10月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2012/09">2012年09月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2012/08">2012年08月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2012/07">2012年07月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2012/06">2012年06月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2012/05">2012年05月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2012/03">2012年03月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2012/02">2012年02月</a><span>(3)</span></li><li><a href="/kkkloveyou/article/month/2012/01">2012年01月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2011/12">2011年12月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2011/11">2011年11月</a><span>(3)</span></li><li><a href="/kkkloveyou/article/month/2011/09">2011年09月</a><span>(1)</span></li><li><a href="/kkkloveyou/article/month/2011/08">2011年08月</a><span>(5)</span></li><li><a href="/kkkloveyou/article/month/2011/07">2011年07月</a><span>(10)</span></li><li><a href="/kkkloveyou/article/month/2011/06">2011年06月</a><span>(2)</span></li><li><a href="/kkkloveyou/article/month/2011/05">2011年05月</a><span>(6)</span></li>
</div>
</ul>
</div>
<div id="hotarticls" class="panel">
<ul class="panel_head">
    <span>       
阅读排行    </span>
</ul>

<ul class="panel_body itemlist">
<li>
<a href="/kkkloveyou/article/details/6724083" title="java多线程编程技术 +代码实例">java多线程编程技术 +代码实例</a><span>(35966)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/44836609" title="如何查看 JAR 包的源代码">如何查看 JAR 包的源代码</a><span>(32603)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/21391033" title="用Jersey构建RESTful服务1--HelloWorld">用Jersey构建RESTful服务1--HelloWorld</a><span>(28937)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/21517165" title="用Jersey构建RESTful服务4--通过jersey-client客户端调用Jersey的Web服务模拟CURD">用Jersey构建RESTful服务4--通过jersey-client客户端调用Jersey的Web服务模拟CURD</a><span>(26370)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/7870572" title="“笔记本无线网络搜索不到自家信号,却能搜到其他公司的信号”解决方法">“笔记本无线网络搜索不到自家信号,却能搜到其他公司的信号”解决方法</a><span>(20967)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/21485243" title="用Jersey构建RESTful服务3--JAVA对象转成JSON输出">用Jersey构建RESTful服务3--JAVA对象转成JSON输出</a><span>(15556)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/6564625" title="java软件开发工程师实习求职常见面试题">java软件开发工程师实习求职常见面试题</a><span>(12731)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/44656325" title="Netty 实现 WebSocket 聊天功能">Netty 实现 WebSocket 聊天功能</a><span>(12369)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/6624070" title="Install error &quot;Exit Code: 6&quot; or &quot;Exit Code: 7&quot; | Creative Adobe Production(安装Adobe产品时出错及解决方案)">Install error &quot;Exit Code: 6&quot; or &quot;Exit Code: 7&quot; | Creative Adobe Production(安装Adobe产品时出错及解决方案)</a><span>(12273)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/51874354" title="远程过程调用(RPC)详解">远程过程调用(RPC)详解</a><span>(11656)</span>
</li>
</ul>
</div>
<div id="hotarticls2" class="panel">
<ul class="panel_head"><span>评论排行</span></ul>
<ul class="panel_body itemlist">
<li>
<a href="/kkkloveyou/article/details/21391033" title="用Jersey构建RESTful服务1--HelloWorld">用Jersey构建RESTful服务1--HelloWorld</a><span>(34)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/21517165" title="用Jersey构建RESTful服务4--通过jersey-client客户端调用Jersey的Web服务模拟CURD">用Jersey构建RESTful服务4--通过jersey-client客户端调用Jersey的Web服务模拟CURD</a><span>(26)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/6628871" title="什么是“面向对象编程”？用邓小平理论指导编程思想">什么是“面向对象编程”？用邓小平理论指导编程思想</a><span>(17)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/44836609" title="如何查看 JAR 包的源代码">如何查看 JAR 包的源代码</a><span>(12)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/21485243" title="用Jersey构建RESTful服务3--JAVA对象转成JSON输出">用Jersey构建RESTful服务3--JAVA对象转成JSON输出</a><span>(11)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/44656325" title="Netty 实现 WebSocket 聊天功能">Netty 实现 WebSocket 聊天功能</a><span>(8)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/21888283" title="用Jersey构建RESTful服务5--Jersey+MySQL5.6+Hibernate4.3">用Jersey构建RESTful服务5--Jersey+MySQL5.6+Hibernate4.3</a><span>(8)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/50745623" title="Docker 在 CentOS 下的安装、使用">Docker 在 CentOS 下的安装、使用</a><span>(6)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/60493832" title="用大白话聊聊分布式系统">用大白话聊聊分布式系统</a><span>(6)</span>
</li>
<li>
<a href="/kkkloveyou/article/details/6724083" title="java多线程编程技术 +代码实例">java多线程编程技术 +代码实例</a><span>(4)</span>
</li>
</ul>
</div>
<div id="homepageArticles" class="panel tracking-ad" data-mod="popu_4">
<ul class="panel_head"><span>推荐文章</span></ul>
<ul class="panel_body" id="ad_commend">
<ul>
<li><a href="http://blog.csdn.net/turingbooks/article/details/72416875" target="_blank">* 5月书讯：流畅的Python，终于等到你！</a></li>
<li><a href="http://blog.csdn.net/blogdevteam/article/details/72526177" 
target="_blank">*【新收录】CSDN日报 —— Kotlin 专场</a></li>
<li><a href="http://blog.csdn.net/jiangwei0910410003/article/details/70483088"target="_blank">* Android中带你开发一款自动爆破签名校验工具kstools</a></li>
<li><a href="http://blog.csdn.net/javazejian/article/details/71860633" 
target="_blank">* 深入理解Java注解类型(@Annotation)</a></li>
<li><a href="http://blog.csdn.net/c406495762/article/details/72597755" 
target="_blank">* Python3 网络爬虫——这个帅哥、肌肉男横行的世界</a></li>
<li><a href="http://blog.csdn.net/mindfloating/article/details/72614855" 
target="_blank">* 从个人习惯到真正的好方法</a></li>

</ul></ul>
</div>


<div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
   
         <a href="/kkkloveyou/article/details/7334309#comments">org.hibernate.MappingException: Unknown entity: com.pkms.entity.User</a>
    <p style="margin:0px;"><a href="/kkkloveyou" class="user_name">kkkloveyou</a>:
@CDW2328:没想这么多年前的问题，近期我又遇到。温故而知新啊
    </p>
    </li>
    <li>
   
         <a href="/kkkloveyou/article/details/7334309#comments">org.hibernate.MappingException: Unknown entity: com.pkms.entity.User</a>
    <p style="margin:0px;"><a href="/CDW2328" class="user_name">CDW2328</a>:
博主很给力！大赞
    </p>
    </li>
    <li>
   
         <a href="/kkkloveyou/article/details/70164177#comments">分布式系统常见的事务处理机制</a>
    <p style="margin:0px;"><a href="/daigualu" class="user_name">daigualu</a>:
感谢分享，学习了。。
    </p>
    </li>
    <li>
   
         <a href="/kkkloveyou/article/details/21485243#comments">用Jersey构建RESTful服务3--JAVA对象转成JSON输出</a>
    <p style="margin:0px;"><a href="/kingDpu" class="user_name">kingDpu</a>:
@kkkloveyou:谢谢，已经解决了
    </p>
    </li>
    <li>
   
         <a href="/kkkloveyou/article/details/21391033#comments">用Jersey构建RESTful服务1--HelloWorld</a>
    <p style="margin:0px;"><a href="/u014308105" class="user_name">u014308105</a>:
@kkkloveyou:嗯，多谢
    </p>
    </li>
    <li>
   
         <a href="/kkkloveyou/article/details/21391033#comments">用Jersey构建RESTful服务1--HelloWorld</a>
    <p style="margin:0px;"><a href="/kkkloveyou" class="user_name">kkkloveyou</a>:
@u014308105:1. 多个参数可以封装成一个对象来作为一个参数2. 多个参数也可以接收，比如...
    </p>
    </li>
    <li>
   
         <a href="/kkkloveyou/article/details/21391033#comments">用Jersey构建RESTful服务1--HelloWorld</a>
    <p style="margin:0px;"><a href="/u014308105" class="user_name">u014308105</a>:
请问：如果要传递多个参数，也用get方式，该怎么写？
    </p>
    </li>
    <li>
   
         <a href="/kkkloveyou/article/details/21391033#comments">用Jersey构建RESTful服务1--HelloWorld</a>
    <p style="margin:0px;"><a href="/kkkloveyou" class="user_name">kkkloveyou</a>:
@hnn_neil:应该是你的 JDK 版本太低了
    </p>
    </li>
    <li>
   
         <a href="/kkkloveyou/article/details/21391033#comments">用Jersey构建RESTful服务1--HelloWorld</a>
    <p style="margin:0px;"><a href="/hnn_neil" class="user_name">hnn_neil</a>:
你好，我按照步骤操作，发布项目时报错：java.lang.UnsupportedClassVersi...
    </p>
    </li>
    <li>
   
         <a href="/kkkloveyou/article/details/52348883#comments">Apache Hadoop 入门教程</a>
    <p style="margin:0px;"><a href="/qq_20579895" class="user_name">qq_20579895</a>:
羊肉串 羊肉串 。。
    </p>
    </li>
</ul>
</div>
    </div>
    <div class="clear">
    </div>


                   <!-- 广告位开始 -->                    <!-- 广告位结束 -->
                   <div class="J_adv" data-view="true"  data-mtp="63" data-order="40" data-con="ad_content_1260" style="width: 200px; height: 200px;">
                         <div id="nav_show_top_stop" style="width: 200px;height: 200px;z-index:1000"><div id="cpro_u2734128"></div></div>
                   </div>
    <script type="text/javascript">    
        setTimeout(function () {
            var naviga_offsetTop = 0;
            function naviga_stay_top() { var scrollTop = jQuery(document).scrollTop(); if (scrollTop > naviga_offsetTop) { jQuery("#nav_show_top_stop").css({ "position": "fixed" }); jQuery("#nav_show_top_stop").css({ "top": "0px" }); } else { jQuery("#nav_show_top_stop").css({ "position": "fixed" }); jQuery("#nav_show_top_stop").css({ "top": naviga_offsetTop - scrollTop + "px" }); } }
            function onload_function() { naviga_offsetTop = jQuery("#nav_show_top_stop").position().top; jQuery(window).bind("scroll", naviga_stay_top); jQuery(window).bind("mousewheel", naviga_stay_top); jQuery(document).bind("scroll", naviga_stay_top); jQuery(document).bind("mousewheel", naviga_stay_top); } jQuery(document).ready(onload_function);
               
        }, 200);    
    </script>
<script type="text/javascript">(window.cproArray = window.cproArray || []).push({ id: "u2734128" });  </script> 
                    <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script> 

           </div>   

            <div class="clear">
            </div>
        </div>

        

<script type="text/javascript" src="http://c.csdnimg.cn/rabbit/cnick/cnick.js"></script>






    <script type="text/javascript" src="http://passport.csdn.net/content/loginbox/login.js"></script>
<script type="text/javascript">
    $(function () {
        function __get_code_toolbar(snippet_id) {
            return $("<span class='tracking-ad' data-mod='popu_167'><a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "' target='_blank' title='在CODE上查看代码片'  style='text-indent:0;'><img src='https://code.csdn.net/assets/CODE_ico.png' width=12 height=12 alt='在CODE上查看代码片' style='position:relative;top:1px;left:2px;'/></a></span>"
                    + "<span class='tracking-ad' data-mod='popu_170'><a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "/fork' target='_blank' title='派生到我的代码片' style='text-indent:0;'><img src='https://code.csdn.net/assets/ico_fork.svg' width=12 height=12 alt='派生到我的代码片' style='position:relative;top:2px;left:2px;'/></a></span>");
        }
        
        $("[code_snippet_id]").each(function () {
            __s_id = $(this).attr("code_snippet_id");
            if (__s_id != null && __s_id != "" && __s_id != 0 && parseInt(__s_id) > 70020) {
                __code_tool = __get_code_toolbar(__s_id);
                $(this).prev().find(".tools").append(__code_tool);
            }
        });

        $(".bar").show();
    });
</script>





    </div>
      <!--new top-->
    

    <script type="text/javascript" src="http://c.csdnimg.cn/pubfooter/js/tracking.js" charset="utf-8"></script>  

   
        <!--new top-->
   
    <link href="http://c.csdnimg.cn/comm_ask/css/ask_float_block.css" type="text/css" rel="stylesheet" />
    <script language='JavaScript' type='text/javascript' src='http://c.csdnimg.cn/comm_ask/js/libs/wmd.js'></script>
    <script language='JavaScript' type='text/javascript' src='http://c.csdnimg.cn/comm_ask/js/libs/showdown.js'></script>
    
    <script language='JavaScript' type='text/javascript' src='http://c.csdnimg.cn/comm_ask/js/apps/ask_float_block.js'></script>
   

   


        <script type="text/javascript" src="http://ads.csdn.net/js/async_new.js"></script>
       <script type="text/javascript" src="http://static.blog.csdn.net/public/res/bower-libs/MathJax/MathJax.js?config=TeX-AMS_HTML"></script>
        <script type="text/javascript" src="http://c.csdnimg.cn/rabbit/search-service/main.js"></script>
          <script type="text/javascript">
              //$(function () {
              //    setTimeout(function () {
              //        var searchtitletags = articletitle + ',' + $("#tags").html();
              //        searchService({
              //            index: 'blog',
              //            query: searchtitletags,
              //            from: 5,
              //            size: 5,
              //            appendTo: '#res',
              //            url: 'recommend',
              //            his: 2,
              //            client: "blog_cf_enhance",
              //            tmpl: '<dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="#{ url }" title="#{ title }" strategy="#{ strategy }">#{ title }</a></dd>'
              //        });
              //    }, 1000);
              //});

         </script>   
          <script type="text/javascript">
              $(function () {
                  setTimeout(function () {
                      var searchtitletags = articletitle + ',' + $("#tags").html();
                      searchService({
                          index: 'blog',
                          query: searchtitletags,
                          from: 0,
                          size: 5,
                          appendTo: '#articlecommend',
                          url: 'recommend',
                          his: 2,
                          client: "blog_cf_enhance",
                          tmpl: '<li><em>•</em><a href="#{ url }" title="#{ title }" strategy="#{ strategy }">#{ title }</a></li>'
                      });

                      setTimeout(function () {
                          var articles=$("#articlecommend li");
                          for (var i = 0; i < articles.length; i++)
                          {
                              $(articles[i]).find("a").css("width", "290px");
                              if (i < 5) {
                                  $(".similar_list.fl").append("<li>" + $(articles[i]).html() + "</li");
                              }
                              else {
                                  $(".similar_list.fr").append("<li>" + $(articles[i]).html() + "</li");
                              }
                          }
                      }, 2000);                     

                  }, 1000);
              });

         </script>
    <script src="http://static.blog.csdn.net/scripts/csdn_blog_detail.min.js" type="text/javascript"></script>

    <script type="text/javascript" src="http://medal.blog.csdn.net/showblogmedal.ashx?blogid=1070877"></script>

     <script id="csdn-toolbar-id" btnId="header_notice_num" wrapId="note1" count="5" subCount="5" type="text/javascript" src="http://c.csdnimg.cn/public/common/toolbar/js/toolbar.js"></script>
    


  <div id="a52b5334d" style="width: 1px; height: 1px; display: none;">
                    <script id="adJs52b5334"></script>
                    <script>document.getElementById("adJs52b5334").src = "http://ads.csdn.net/js/opt/52b5334.js?t=" + Math.random();</script>
   </div>

    
    <script type="text/javascript" src="http://static.blog.csdn.net/scripts/saveToCode.js"></script>
      <script type="text/javascript" src="//c.csdnimg.cn/rabbit/tracking-ad/main.js?75eacd8"></script>
        
     

    
          
    <div class="pop_CA_cover"  style="display:none"></div>
    <div class="pop pop_CA"  style="display:none">
          <div class="CA_header">
            收藏助手
            <span class="cancel_icon"  id="fapancle"  onclick="$('.pop_CA').hide();$('.pop_CA_cover').hide();"></span>
          </div>
          <iframe src="" id="fa" frameborder="0" width="100%" height="360"  scrolling="no" ></iframe>
    </div>

</body>
</html>   
 