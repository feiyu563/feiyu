<!DOCTYPE html>
<html>
<head>
	<title>django-web测试</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<script type='text/javascript' src='/static/jquery-3.2.1.js'></script>
	<style type="text/css">
		select{
			width:100px;
		}
		label{
			width:100px;
		}
	</style>
</head>
	<body>
		<div style='height:50px'>
    	<form method='get' action='/auth/'>
        	<input type='text' name='username' />
        	<input type='password' name='password' />
        	<input type='submit' value='Login' />
    	</form>
    	</div>
    	<div style='height:100px'>
    		<div>
    		<label for='Province'>Province</label>
    			<select id='select1'  style='display:none'>
	    		</select>
	    	</div>
    		<div>
    		<label for='City'>City</label>
    			<select id='select2' style='display:none'>
    			</select>
    		</div>
    	</div>
    	<script type="text/javascript">
    	
    	$(function(){
    		$.getJSON('/getregion/',{val:'All'},function(regions){
    			for(key in regions){
    				console.log(key);
    				
    				$('#select1').append('<option> '+key+' </option>').removeAttr("style").change(function(){
    					
    	    			$.getJSON('/getregion/',{val:$(this).val()},function(regions){
    	    				
    	        			$('#select2').empty();
    	        			//each 示例:
    	        			$.each(regions,function(i){
    	        				console.log(regions[i]);
    	        				$('#select2').append('<option> '+regions[i]+' </option>').removeAttr("style");
    	        			})
    	        			
    	        			/*  for 示例:
    	        			for(var i=0;i<regions.length;i++){
    	        				console.log(regions[i]);
    	        				$('#select2').append('<option> '+regions[i]+' </option>').removeAttr("style");
    	        				
    	        			} */
    	        			
    	        		})
    	        		
    	        		})
    	        		
    			}
    			
    		})
    		
    	});
    	
    	</script>

	</body>
</html>